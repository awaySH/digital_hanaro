<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>수강신청</title>
  </head>
  <body>
    <div>
      <button id="korBtn">국어수업 요일 선택 &gt;</button>
      <label id="korLabel">요일을 선택하세요!</label>
    </div>
    <div style="margin-top: 1rem">
      <button id="mathBtn">수학수업 요일 선택 &gt;</button>
      <label id="mathLabel">요일을 선택하세요!</label>
    </div>
    <script>
      const weeks = "일월화수목금토일";

      const getNextWeek = () => {
        let widx = -1;
        return () => {
          widx += 1;
          if (widx >= weeks.length) widx = 0;
          return `${weeks[widx]}요일`;
        };
      };

      const nextWeekFunction = {
        kor: getNextWeek(),
        math: getNextWeek(),
      };

      const setweek = (subject) => {
        console.log("setweek!", subject);
        if (subject === "kor") {
          document.getElementById("korLabel").innerText =
            nextWeekFunction[subject]();
        } else if (subject === "math") {
          document.getElementById("mathLabel").innerText =
            nextWeekFunction[subject]();
        }
      };

      window.addEventListener("load", () => {
        document.getElementById("korBtn").addEventListener("click", () => {
          setweek("kor");
        });
        document.getElementById("mathBtn").addEventListener("click", () => {
          setweek("math");
        });
      });

      //   const weeks = "일월화수목금토일";

      //   const getNextWeek = () => {
      //     let widx = -1;
      //     return () => {
      //       widx += 1;
      //       if (widx >= weeks.length) widx = 0;
      //       return `${weeks[widx]}요일`;
      //     };
      //   };

      //   const nextWeekFunction = {
      //     kor: getNextWeek(),
      //     math: getNextWeek(),
      //   };

      //   const setweek = (subject) => {
      //     document.getElementById(`${subject}Label`).innerText =
      //       nextWeekFunction[subject]();
      //   };

      //   window.addEventListener("load", () => {
      //     ["kor", "math"].forEach((subject) => {
      //       document
      //         .getElementById(`${subject}Btn`)
      //         .addEventListener("click", () => {
      //           setweek(subject);
      //         });
      //     });
      //   });

      // 테스트 코드
      let runCnt = 0;
      const intl = setInterval(() => {
        runCnt += 1;
        if (runCnt > 10) clearInterval(intl);
        document.getElementById("korBtn").click();
        document.getElementById("mathBtn").click();
      }, 1000);
    </script>
  </body>
</html>
